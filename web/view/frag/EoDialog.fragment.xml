<core:FragmentDefinition
        xmlns="sap.m"
        xmlns:core="sap.ui.core">
    <Dialog afterClose="onEoAfterClose"
            contentWidth="85%"
            showHeader="false">

        <customHeader design="Header">
            <Bar>
                <contentMiddle>
                    <Title text="Перечень ТС"/>
                </contentMiddle>

                <contentRight>
                    <Button icon="sap-icon://synchronize" press="onEoUpdate"
                            tooltip="Обновить единицы оборудования"/>
                </contentRight>
            </Bar>
        </customHeader>

        <subHeader>
            <Bar>
                <contentMiddle>
                    <SearchField id="id_eo_search" width="100%" search="eoSearch"/>
                </contentMiddle>
            </Bar>
        </subHeader>

        <content>
            <Table id="id_eo_table"
                   growing="true" growingScrollToLoad="true"
                   mode="MultiSelect" modeAnimationOn="false"
                   noDataText="Нет данных" items="{wb>/Equipments}">

                <columns>
                    <Column width="5em">
                        <Label text="Гос номер"/>
                    </Column>
                    <Column>
                        <Label text="Название объекта"/>
                    </Column>
                    <Column width="7rem">
                        <Label text="Вид тех. объекта"/>
                    </Column>
                    <Column width="9rem">
                        <Label text="Вид топлива"/>
                    </Column>
                    <Column width="9rem">
                        <Label text="IMEI"/>
                    </Column>
                    <Column>
                        <Label text="Название технического места"/>
                    </Column>
                    <Column width="9rem">
                        <Label text="Нет водителя на дату"/>
                    </Column>
                </columns>

                <ColumnListItem>
                    <cells>
                        <Label text="{wb>License_num}"
                               tooltip="Единица оборудования { path: 'wb>Equnr', formatter: '.alphaOut' }&#xA;Класс {wb>N_class}"/>
                    </cells>

                    <cells>
                        <Label text="{wb>Eqktx}" tooltip="{wb>Eqktx}"/>
                    </cells>

                    <cells>
                        <Label text="{wb>Eqart}"/>
                    </cells>

                    <cells>
                        <Label text="{wb>Typbz}"/>
                    </cells>

                    <cells>
                        <Label text="{wb>Imei}"/>
                    </cells>

                    <cells>
                        <Label text="{wb>Pltxt}" tooltip="{wb>Pltxt}"/>
                    </cells>

                    <cells>
                        <Label text="{ path: 'wb>NoDriverDate', formatter: '.toLocaleDate' }"/>
                    </cells>
                </ColumnListItem>
            </Table>
        </content>


        <buttons>
            <Button tooltip="Водитель отсутсвеует" icon="sap-icon://employee-rejections" press="setNoDriverDate"/>
            <Button tooltip="Авария" enabled="false" icon="sap-icon://collision"/>
            <Button tooltip="Отмена"  icon="sap-icon://decline" press="onEoCloseDialog"/>
        </buttons>
    </Dialog>
</core:FragmentDefinition>